(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{295:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));n(428);var a=n(0),r=n.n(a),o=n(193),c=n(441),i=n(71),l=n(101),m=n(250),u=n(249),s=n(13),d=n.n(s),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return[].concat(d()(e),[t.payload]);case"REMOVE_FROM_CART":return e.filter((function(e){return e!==t.payload}));case"CLEAR_CART":return[]}return e},f=Object(l.combineReducers)({cartItems:g}),p=Object(l.createStore)(f,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(m.a))),E=n(443),h=n(54),b=n(2),y=n(73),C=n(442),v=n(7),w=n.n(v),x=n(3),I=n(118),_=n(58),O=n(28),T=n(18),j=n(37),S="https://my-pos-server.herokuapp.com/api/v1/",k=n(183),R=n.n(k),A=n(41),B=n(45),L=n(34),z=n(55),D=O.a.get("window").width,P=x.a.create({container:{width:D/2-20,height:D/1.7,padding:10,borderRadius:10,marginTop:55,marginBottom:5,marginLeft:10,alignItems:"center",elevation:8,backgroundColor:"white"},image:{width:D/2-20-10,height:D/2-20-30,backgroundColor:"transparent",position:"absolute",top:-45},card:{marginBottom:10,height:D/2-20-90,backgroundColor:"transparent",width:D/2-20-10},title:{fontWeight:"bold",fontSize:14,textAlign:"center"},price:{fontSize:20,color:"orange",marginTop:10}}),F=Object(i.b)(null,(function(e){return{addItemToCart:function(t){return e({type:"ADD_TO_CART",payload:{quantity:1,product:t}})}}}))((function(e){var t=e.name,n=e.price,a=e.image,o=e.countInStock;return r.a.createElement(b.a,{style:P.container},r.a.createElement(B.a,{style:P.image,resizeMode:"contain",source:{uri:a||"https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png"}}),r.a.createElement(b.a,{style:P.card}),r.a.createElement(L.a,{style:P.title},t.length>15?t.substring(0,12)+"...":t),r.a.createElement(L.a,{style:P.price},"$",n),o>0?r.a.createElement(b.a,{style:{marginBottom:60}},r.a.createElement(z.a,{title:"add",color:"green",onPress:function(){return e.addItemToCart(e)}})):r.a.createElement(L.a,{style:{marginTop:20}},"Currently Unavailable"))})),$=O.a.get("window"),H=$.width,M=($.height,function(e){var t=e.item;return r.a.createElement(A.a,{style:{width:"50%"},onPress:function(){return e.navigation.navigate("Product Detail",{item:t})}},r.a.createElement(b.a,{style:{width:H/2,backgroundColor:"gainsboro"}},r.a.createElement(F,t)))}),W=O.a.get("window").width,N=x.a.create({center:{justifyContent:"center",alignItems:"center"}}),V=function(e){var t=e.productsFiltered;return r.a.createElement(T.Content,{style:{width:W}},t.length>0?t.map((function(t){return r.a.createElement(T.ListItem,{onPress:function(){e.navigation.navigate("Product Detail",{item:t})},key:t._id.$oid,avatar:!0},r.a.createElement(T.Left,null,r.a.createElement(T.Thumbnail,{source:{uri:t.image?t.image:"https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png"}})),r.a.createElement(T.Body,null,r.a.createElement(T.Text,null,t.name),r.a.createElement(T.Text,{note:!0},t.description)))})):r.a.createElement(b.a,{style:N.center},r.a.createElement(T.Text,{style:{marginTop:10,alignSelf:"center"}},"No product match the selected criteria")))},J=n(47),q=x.a.create({center:{justifyContent:"center",alignItems:"center"},active:{backgroundColor:"#03bafc"},inactive:{backgroundColor:"#a0e1eb"}}),G=function(e){return r.a.createElement(J.a,{bounces:!0,horizontal:!0,style:{backgroundColor:"#f2f2f2"}},r.a.createElement(T.ListItem,{style:{margin:0,padding:0,borderRadius:0}},r.a.createElement(A.a,{key:1,onPress:function(){e.categoryFilter("all"),e.setActive(-1)}},r.a.createElement(T.Badge,{style:[q.center,{margin:5},-1==e.active?q.active:q.inactive]},r.a.createElement(T.Text,{style:{color:"white"}},"All"))),e.categories.map((function(t){return r.a.createElement(A.a,{key:t._id,onPress:function(){e.categoryFilter(t._id),e.setActive(e.categories.indexOf(t))}},r.a.createElement(T.Badge,{style:[q.center,{margin:5},e.active==e.categories.indexOf(t)?q.active:q.inactive]},r.a.createElement(T.Text,{style:{color:"white"}}," ",t.name," ")))}))))},U=O.a.get("window").height,X=(n(420),x.a.create({container:{flexWrap:"wrap",backgroundColor:"gainsboro"},listContainer:{height:U,flex:1,flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap",backgroundColor:"gainsboro"},center:{justifyContent:"center",alignItems:"center"}})),K=function(e){var t=Object(a.useState)([]),n=w()(t,2),o=n[0],c=n[1],i=Object(a.useState)([]),l=w()(i,2),m=l[0],u=l[1],s=Object(a.useState)(),d=w()(s,2),g=d[0],f=d[1],p=Object(a.useState)([]),E=w()(p,2),h=E[0],y=E[1],C=Object(a.useState)([]),v=w()(C,2),x=v[0],O=v[1],k=Object(a.useState)(),A=w()(k,2),B=A[0],L=A[1],z=Object(a.useState)([]),D=w()(z,2),P=D[0],F=D[1],$=Object(a.useState)(!0),H=w()($,2),W=H[0],N=H[1];Object(j.o)(Object(a.useCallback)((function(){return f(!1),L(-1),R.a.get(S+"products").then((function(e){c(e.data),u(e.data),O(e.data),F(e.data),N(!1)})).catch((function(e){console.log("API call error")})),R.a.get(S+"categories").then((function(e){y(e.data)})).catch((function(e){console.log("API call error")})),function(){c([]),u([]),y([]),f(),L(),F([])}}),[]));return r.a.createElement(r.a.Fragment,null,0==W?r.a.createElement(T.Container,null,r.a.createElement(T.Header,{searchBar:!0,rounded:!0},r.a.createElement(T.Item,null,r.a.createElement(T.Icon,{name:"ios-search"}),r.a.createElement(T.Input,{placeholder:"Search",onFocus:function(){f(!0)},onChangeText:function(e){return function(e){u(o.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})))}(e)}}),1==g?r.a.createElement(T.Icon,{onPress:function(){f(!1)},name:"ios-close"}):null)),1==g?r.a.createElement(V,{navigation:e.navigation,productsFiltered:m}):r.a.createElement(b.a,null,r.a.createElement(b.a,null,r.a.createElement(G,{categories:h,categoryFilter:function(e){"all"===e?(O(P),L(!0)):O(o.filter((function(t){return t.category._id===e})),L(!0))},productsCtg:x,active:B,setActive:L}),x.length>0?r.a.createElement(b.a,null,r.a.createElement(_.a,{horizontal:!1,data:x,numColumns:2,renderItem:function(t){var n=t.item;return r.a.createElement(M,{navigation:e.navigation,key:n._id,item:n})},keyExtractor:function(e){return e.name}})):r.a.createElement(b.a,{style:[X.center,{height:80}]},r.a.createElement(T.Text,null,"No products found"))))):r.a.createElement(T.Container,{style:[X.center,{backgroundColor:"#f2f2f2"}]},r.a.createElement(I.a,{size:"large",color:"red"})))},Q=x.a.create({container:{position:"relative",height:"100%"},imageContainer:{backgroundColor:"white",margin:0,padding:0},image:{width:"100%",height:250},contentContainer:{marginTop:20,justifyContent:"center",alignItems:"center"},contentHeader:{fontWeight:"bold",marginBottom:20},contentText:{fontSize:18,fontWeight:"bold",marginBottom:20},bottomContainer:{flexDirection:"row",position:"absolute",bottom:0,left:0,backgroundColor:"white"},price:{fontSize:24,margin:20,color:"red"}}),Y=function(e){var t=Object(a.useState)(e.route.params.item),n=w()(t,2),o=n[0],c=(n[1],Object(a.useState)(null)),i=w()(c,2);i[0],i[1];return r.a.createElement(T.Container,{style:Q.container},r.a.createElement(J.a,{style:{marginBottom:80,padding:5}},r.a.createElement(b.a,{style:Q.imageContainer},r.a.createElement(B.a,{source:{uri:o.image?o.image:"https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png"},resizeMode:"contain",style:Q.image}),r.a.createElement(b.a,{style:Q.contentContainer},r.a.createElement(T.H1,{style:Q.contentHeader},o.name),r.a.createElement(L.a,{style:Q.contentText},o.brand)))),r.a.createElement(b.a,{style:Q.bottomContainer},r.a.createElement(T.Left,null,r.a.createElement(L.a,{style:Q.price},"$",o.price)),r.a.createElement(T.Right,null,r.a.createElement(z.a,{title:"Add"}))))},Z=Object(C.a)();function ee(){return r.a.createElement(Z.Navigator,null,r.a.createElement(Z.Screen,{name:"Products",component:K,options:{headerShown:!1}}),r.a.createElement(Z.Screen,{name:"Product Detail",component:Y,options:{headerShown:!1}}))}function te(){return r.a.createElement(ee,null)}var ne=n(296),ae=x.a.create({listItem:{alignItems:"center",backgroundColor:"white",justifyContent:"center"},body:{margin:10,alignItems:"center",flexDirection:"row"}}),re=function(e){console.log(e);var t=e.item.item.product,n=Object(a.useState)(e.item.quantity),o=w()(n,2);o[0],o[1];return r.a.createElement(T.ListItem,{style:ae.listItem,key:Math.random(),avatar:!0},r.a.createElement(T.Left,null,r.a.createElement(T.Thumbnail,{source:{uri:t.image?t.image:"https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png"}})),r.a.createElement(T.Body,{style:ae.body},r.a.createElement(T.Left,null,r.a.createElement(T.Text,null,t.name)),r.a.createElement(T.Right,null,r.a.createElement(T.Text,null,"$ ",t.price))))},oe=O.a.get("window"),ce=oe.height,ie=oe.width,le=x.a.create({emptyContainer:{height:ce,alignItems:"center",justifyContent:"center"},bottomContainer:{flexDirection:"row",position:"absolute",bottom:0,left:0,backgroundColor:"white",elevation:20},price:{fontSize:18,margin:20,color:"red"},hiddenContainer:{flex:1,justifyContent:"flex-end",flexDirection:"row"},hiddenButton:{backgroundColor:"red",justifyContent:"center",alignItems:"flex-end",paddingRight:25,height:70,width:ie/1.2}}),me=Object(i.b)((function(e){return{cartItems:e.cartItems}}),(function(e){return{clearCart:function(){return e({type:"CLEAR_CART"})},removeFromCart:function(t){return e({type:"REMOVE_FROM_CART",payload:t})}}}))((function(e){var t=0;return e.cartItems.forEach((function(e){return t+=e.product.price})),r.a.createElement(r.a.Fragment,null,e.cartItems.length?r.a.createElement(T.Container,null,r.a.createElement(T.H1,{style:{alignSelf:"center"}},"Cart"),r.a.createElement(ne.a,{data:e.cartItems,renderItem:function(e,t){return r.a.createElement(re,{item:e})},renderHiddenItem:function(t,n){return r.a.createElement(b.a,{style:le.hiddenContainer},r.a.createElement(A.a,{style:le.hiddenButton,onPress:function(){return e.removeFromCart(t.item)}},r.a.createElement(y.default,{name:"trash",color:"white",size:30})))},disableRightSwipe:!0,previewOpenDelay:3e3,friction:1e3,tension:40,leftOpenValue:75,stopLeftSwipe:75,rightOpenValue:-75}),r.a.createElement(b.a,{style:le.bottomContainer},r.a.createElement(T.Left,null,r.a.createElement(T.Text,{style:le.price},"$ ",t)),r.a.createElement(T.Right,null,r.a.createElement(z.a,{title:"Clear",onPress:function(){return e.clearCart()}})),r.a.createElement(T.Right,null,r.a.createElement(z.a,{title:"Checkout",onPress:function(){return e.navigation.nagivate("Checkout")}})))):r.a.createElement(T.Container,{style:le.emptyContainer},r.a.createElement(T.Text,null,"Looks like your cart is empty"),r.a.createElement(T.Text,null,"Add products to your cart to get started")))})),ue=x.a.create({badge:{width:25,position:"absolute",flex:1,justifyContent:"center",alignItems:"center",alignContent:"center",top:-4,right:-15},text:{fontSize:12,width:100,fontWeight:"bold"}}),se=Object(i.b)((function(e){return{cartItems:e.cartItems}}))((function(e){return r.a.createElement(r.a.Fragment,null,e.cartItems.length?r.a.createElement(T.Badge,{style:ue.badge},r.a.createElement(T.Text,{style:ue.text},e.cartItems.length)):null)}));n(5);var de=Object(E.a)(),ge=function(){return r.a.createElement(de.Navigator,{initialRouteName:"Home",screenOptions:{keyboardHidesTabBar:!0,showLabel:!1,activeTintColor:"#e91e63"}},r.a.createElement(de.Screen,{name:"Home",component:te,options:{tabBarIcon:function(e){var t=e.color;return r.a.createElement(y.default,{name:"home",style:{position:"relative"},color:t,size:30})}}}),r.a.createElement(de.Screen,{name:"Cart",component:me,options:{tabBarIcon:function(e){var t=e.color;return r.a.createElement(b.a,null,r.a.createElement(y.default,{name:"shopping-cart",color:t,size:30}),r.a.createElement(se,null))}}}),r.a.createElement(de.Screen,{name:"Admin",component:te,options:{tabBarIcon:function(e){var t=e.color;return r.a.createElement(y.default,{name:"cog",color:t,size:30})}}}),r.a.createElement(de.Screen,{name:"User",component:h.a,options:{tabBarIcon:function(e){var t=e.color;return r.a.createElement(y.default,{name:"user",color:t,size:30})}}}))},fe=n(119),pe=x.a.create({header:{width:"100%",flexDirection:"row",alignContent:"center",justifyContent:"center",padding:20}}),Ee=function(){return r.a.createElement(fe.a,{style:pe.header},r.a.createElement(B.a,{source:{uri:"https://i.ytimg.com/vi/neXk3we-y6E/maxresdefault.jpg"}}))};function he(){return r.a.createElement(i.a,{store:p},r.a.createElement(c.a,null,r.a.createElement(Ee,null),r.a.createElement(ge,null)))}o.a.ignoreAllLogs(!0)},301:function(e,t,n){e.exports=n(429)},420:function(e){e.exports=JSON.parse('[{"_id":{"$oid":"5f15d5cdcb4a6642bddc0fe9"},"name":"Electronics","__v":0},{"_id":{"$oid":"5f15d545f3a046427a1c26e2"},"name":"Beauty","__v":0},{"_id":{"$oid":"5f15d54cf3a046427a1c26e3"},"name":"Computers","__v":0},{"_id":{"$oid":"5f15d5b2cb4a6642bddc0fe7"},"name":"Home","__v":0},{"_id":{"$oid":"5f15d5b7cb4a6642bddc0fe8"},"name":"Garden","__v":0},{"_id":{"$oid":"5f15d5cdcb4a6642bddc0fe9"},"name":"Games","__v":0}]')}},[[301,1,2]]]);
//# sourceMappingURL=app.44b68127.chunk.js.map